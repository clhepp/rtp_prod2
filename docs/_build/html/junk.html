

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Driver Files &mdash; rtp_prod 1.0 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="rtp_prod 1.0 documentation" href="index.html"/>
        <link rel="prev" title="Welcome to rtp-prod’s documentation!" href="rtp-prod.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="index.html" class="fa fa-home"> rtp_prod</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="README.html">Readme</a><ul>
<li class="toctree-l2"><a class="reference internal" href="README.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="README.html#main-top-level-routines">Main Top Level Routines</a></li>
<li class="toctree-l2"><a class="reference internal" href="README.html#documentation">Documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="rtp-prod.html">Welcome to rtp-prod&#8217;s documentation!</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="rtp-prod.html#indices-and-tables">Indices and tables</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Driver Files</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#reminder-about-kcarta-database-range">Reminder about kCARTA database range</a></li>
<li class="toctree-l2"><a class="reference internal" href="#test-directory">Test directory</a></li>
<li class="toctree-l2"><a class="reference internal" href="#variablepressure">VariablePressure</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">rtp_prod</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Driver Files</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/junk.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="driver-files">
<h1>Driver Files<a class="headerlink" href="#driver-files" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>kCARTA stands for &#8220;kCompressed Atmospheric Radiative Transfer
Algorithm.&#8221; This is an infrared, &#8220;monochromatic&#8221; radiative transfer
algorithm written for a one dimensional non-scattering Earth
atmosphere. More documentation is found in &#8220;kcarta.pdf&#8221;. This file
shows the user how to set up the driver files found in the &#8220;Test&#8221;
subdirectory.</p>
</div>
<div class="section" id="reminder-about-kcarta-database-range">
<h2>Reminder about kCARTA database range<a class="headerlink" href="#reminder-about-kcarta-database-range" title="Permalink to this headline">¶</a></h2>
<p>As given out, the code was optimized for the 605 - 2830 spectral range
which is the range covered by AIRS, IASA, CRiS, and HIRS and AERI
instruments. However the code is flexible enough to allow optical depth
and radiance calculations in other spectral bands. Since the FWHM of
lines gets smaller (larger) as the wavenumbers get smaller (larger), the
resolution of the database must change. Each file in each spectral range
will contain 10000 points; so for example at the default 0.0025
resolution of the main IR default band (605-2830 ), the files each span
25 . We envisage the following :</p>
<div class="highlight-python"><div class="highlight"><pre>kcartachunks = 00080 : 0002.5 : 00150;  prefix = &#39;/j&#39;;
kcartachunks = 00140 : 0005.0 : 00310;  prefix = &#39;/k&#39;;
kcartachunks = 00300 : 0010.0 : 00510;  prefix = &#39;/p&#39;;
kcartachunks = 00500 : 0015.0 : 00605;  prefix = &#39;/q&#39;;
kcartachunks = 00605 : 0025.0 : 02830;  prefix = &#39;/r&#39;; ** default **
kcartachunks = 02830 : 0025.0 : 03580;  prefix = &#39;/s&#39;;
kcartachunks = 03550 : 0100.0 : 05650;  prefix = &#39;/m&#39;;
kcartachunks = 05550 : 0150.0 : 08350;  prefix = &#39;/n&#39;;
kcartachunks = 08250 : 0250.0 : 12250;  prefix = &#39;/o&#39;;
kcartachunks = 12000 : 0500.0 : 25000;  prefix = &#39;/v&#39;;
kcartachunks = 25000 : 1000.0 : 44000;  prefix = &#39;/u&#39;;
</pre></div>
</div>
</div>
<div class="section" id="test-directory">
<h2>Test directory<a class="headerlink" href="#test-directory" title="Permalink to this headline">¶</a></h2>
<p>Examples of two driverfiles, one which computes optical depths (based on
a list the user supplies), and the other which computes radiances (and
jacobians if asked). The user should carefully examine these files, as
they provide a working outline of how to use this package. This subdir
also includes two matlab files, containing radiances output using H2004
and H2008.</p>
<div class="section" id="setting-the-paths">
<h3>Setting the paths<a class="headerlink" href="#setting-the-paths" title="Permalink to this headline">¶</a></h3>
<p>The user needs to supply paths to where the solar files, continuum
files, nlte files, klayers executables, optical depth database and
reference profiles are; this is controlled via</p>
<p>We will concentrate on the parameters that need to be set for kCARTA
runs spanning 605-2830 . The variables set in this file fall into three
categories:</p>
<div class="section" id="category-a-solar-datafiles-water-continuum-files-4um-co2-chifiles">
<h4>Category A: Solar datafiles, water continuum files, 4um CO2 chifiles<a class="headerlink" href="#category-a-solar-datafiles-water-continuum-files-4um-co2-chifiles" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="67%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>soldir</td>
<td>path to solar files</td>
</tr>
<tr class="row-even"><td>nltedir</td>
<td>path and name of NLTE files</td>
</tr>
<tr class="row-odd"><td>co2ChiFilePath</td>
<td>path to 4 um CO2 files</td>
</tr>
<tr class="row-even"><td>cdir</td>
<td>path to continuum files</td>
</tr>
<tr class="row-odd"><td>cswt,cfwt</td>
<td>self and forn continuum weights</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="category-b-klayers-executables-and-scratch-space">
<h4>Category B: Klayers executables and scratch space<a class="headerlink" href="#category-b-klayers-executables-and-scratch-space" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="29%" />
<col width="71%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>klayers\<sub>code.junkdir</sub></td>
<td>path to scratch space for klayers input/output</td>
</tr>
<tr class="row-even"><td>klayers\<sub>code.aeri</sub></td>
<td>path to klayers executable for AERI, (uplook, finer layers near ground)</td>
</tr>
<tr class="row-odd"><td>klayers\<sub>code.airs</sub></td>
<td>path to klayers executable for AIRS,IASI/CRiS (downlook, default klayers layers)</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="category-c-kcarta-database-paths">
<h4>Category C: kCARTA database paths<a class="headerlink" href="#category-c-kcarta-database-paths" title="Permalink to this headline">¶</a></h4>
<p>Depending on whether the user is using f77 binary files or Matlab binary
files (as set <span class="math">\(via\)</span> iMatlab\<sub>vs</sub>\\ <sub>f77</sub>), the user is required to set the
path to the reference profile (that was used to generate the database),
as well as paths to where the database actually is. In addition, the
user can set paths to different flavors of the database (eg H2000,
H2004, H2008), depending on iHITRAN.</p>
<p>If iMatlab\<sub>vs</sub>\\ <sub>f77</sub>== +1 then the Matlab files are</p>
<table border="1" class="docutils">
<colgroup>
<col width="21%" />
<col width="79%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>kpath</td>
<td>path to compressed files</td>
</tr>
<tr class="row-even"><td>refp</td>
<td>path to reference profile</td>
</tr>
</tbody>
</table>
<p>while if iMatlab\<sub>vs</sub>\\ <sub>f77</sub>== -1 then the f77 files are</p>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="77%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>kdatadir</td>
<td>path to ieee-le f77 binary data</td>
</tr>
<tr class="row-even"><td>kpathh2o</td>
<td>subdir to h2o files</td>
</tr>
<tr class="row-odd"><td>kpathhDo</td>
<td>subdir to hDo files</td>
</tr>
<tr class="row-even"><td>kpathco2</td>
<td>subdir to co2 files</td>
</tr>
<tr class="row-odd"><td>kpathetc</td>
<td>subdir to all other gases</td>
</tr>
<tr class="row-even"><td>refp</td>
<td>path to reference profile</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="setting-the-control-variables">
<h3>Setting the control variables<a class="headerlink" href="#setting-the-control-variables" title="Permalink to this headline">¶</a></h3>
<p>Depending what the user wants to do, the user sets the following
parameters in a separate file : which HITRAN version to use, start/stop
wavenumbers for the calculations, whether or not to do Jacobians, what
output units for the Jacobians, what CKD version, and name of input rtp
file. We will concentrate on textcolorblueuser\<sub>set</sub>\\ <sub>input</sub>\\ <sub>downlook.m</sub>,
the file used to generate radiances and/or jacobians; the file used to
generate optical depths is very similar.</p>
<p>As above, the parameters set in the file can be divided into a number of
categories</p>
<div class="section" id="category-a-hitran-controllers">
<h4>Category A : HITRAN controllers<a class="headerlink" href="#category-a-hitran-controllers" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python"><div class="highlight"><pre>iHITRAN       sets the kCompressed directory
              choices are H2000,H2004,H2008

iMatlab\_vs\_f77  is the database is Matlab or ieee-le
                  iMatlab\_vs\_f77 = +1 use Matlab version
                  iMatlab\_vs\_f77 = -1 use f77 version
</pre></div>
</div>
</div>
</div>
<div class="section" id="running-the-code">
<h3>Running the code!<a class="headerlink" href="#running-the-code" title="Permalink to this headline">¶</a></h3>
<p>Finally the user can commence the computation, calling one or the other
of the routines named below (which call relevant files from above).</p>
<div class="highlight-python"><div class="highlight"><pre>dokcarta_downlook.m              compute RT
dokcarta_opticaldepths.m         compute optical depths
</pre></div>
</div>
<p>All the user has to do is make sure the correct user\_ files are called,
at the top of these files.</p>
</div>
</div>
<div class="section" id="variablepressure">
<h2>VariablePressure<a class="headerlink" href="#variablepressure" title="Permalink to this headline">¶</a></h2>
<p>This contains the main files a user should need This makes the code(s)
slower. The structure and content of the directories is the same as
before <span class="math">\(viz\)</span></p>
<div class="highlight-python"><div class="highlight"><pre>drwxr-xr-x 2 sergio pi_strow    10 Mar 24 04:49 Test
drwxr-xr-x 6 sergio pi_strow     8 Mar 23 11:58 private
drwxr-xr-x 3 sergio pi_strow     4 Mar 23 10:36 JACUP_VarPress
drwxr-xr-x 3 sergio pi_strow     4 Mar 23 10:35 JACDOWN_VarPress
</pre></div>
</div>
<p><span class="math">\(Test\)</span> has dokcarta\<sub>downlook.m</sub>, dokcarta\<sub>uplook.m</sub>(very similar to the
&#8220;downlook&#8221; case) and dokcarta\<sub>opticaldepths.m</sub>.</p>
<p><span class="math">\(JADOWN\_VarPress\)</span> has jacobian routines for downlooking instruments</p>
<p><span class="math">\(JACUP\_VarPress\)</span> has jacobian routines for uplooking instruments</p>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="rtp-prod.html" class="btn btn-neutral" title="Welcome to rtp-prod’s documentation!"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, L. Larrabee Strow, Howard Motteler, Sergio de Souza-Machado, Scott Hannon, and Steven Buczkowski.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://c328740.ssl.cf1.rackcdn.com/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>